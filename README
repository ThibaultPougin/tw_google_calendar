# Synchronisation agenda google -> temps Teamwork

## Configuration

1. lancer `npm install`
2. Copier le contenu du fichier '.env.example' dans un fichier '.env' à la racine du projet
3. Compléter le fichier .env en suivant les instructions

## Utilisation

Lancement du script : `npm run start` (idéalement une fois par semaine avant le week-end)

Pour chaque événement de la semaine courante (du lundi au vendredi) trouvé sur l'agenda google au moment où le script est lancé, un temps sera renseigné sur Teamwork si :

- Le lien de la tâche TeamWork associé à l'événement est indiqué dans le titre de l'événement (le temps associé sera renseigné sur la tâche en question)

- Un tag est présent dans le titre de l'événement :
        - **[PROJET]**
        - **[FORMATION]**
        - **[SUPPORT]**
        - **[AH]**
        - **[VACANCES]**

- Si un lien de tâche Teamwork et un tag sont renseignés, la priorité est donné à la tâche Teamwork

Une fois tous les temps renseignées, la liste des événements trouvs sur l'agenda et n'ayant pas fait l'objet d'un ajout de temps est indiquée dans la console. Si l'utilisateur souhaite renseigner un temps pour un événement, il a alors la possibilité de sélectionner le type d'événement ou de renseigner l'id de la tâche Teamwork où renseigner le temps de l'événement.

<u>**NB1**</u> : Les événements daily-meeting, weekly-meetings, réunions sprint et réunions ayant fait l'objet d'une invitation sont automatiquement synchronisés.

<u>**NB2**</u> : Les événements sur une journée complète (exemple : vacances) sont également pris en compte.

<u>**NB3**</u> : Pour éviter les doublons, si un temps a déjà été synchronisé pour une tâche, il ne sera pas renseigné une seconde fois.

<u>**NB4**</u> : Pour ajouter de nouveaux tags, regarder la méthode "google_agenda_controller.get_teamwork_task_id" .






https://www.youtube.com/watch?v=zrLf4KMs71E

https://fusebit.io/blog/events-in-the-google-calendar-API/?utm_source=www.google.com&utm_medium=referral&utm_campaign=none

https://apidocs.teamwork.com/docs/teamwork/c3ed8a1fc3ad9-create-a-time-entry-linked-to-a-specific-task

https://www.youtube.com/watch?v=1AxFrY2oSiw&ab_channel=Markodex
https://stackoverflow.com/questions/72518081/how-can-i-use-more-than-one-inquirer-at-once-for-javascript
https://stackoverflow.com/questions/56412516/conditional-prompt-rendering-in-inquirer
https://www.digitalocean.com/community/tutorials/nodejs-interactive-command-line-prompts

//TODO : clean code + commentaire + rédiger mode opératoire